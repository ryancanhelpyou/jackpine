<header id="header" class="bg-gray-100 md:bg-white border-t-4 border-b-.5 border-gray-400">
    <nav id="nav-main" class="nav-main" role="navigation" x-data="{ isOpen: false }">
        {# mobile #}
        <div class="sm:hidden flex flex-row items-center justify-between py-2 w-11/12 mx-auto space-x-2">
            <div class="w-14 mr-2 transition duration-500 ease-in-out transform hover:scale-110">
                <a href="{{ site.url|e('esc_url') }}" title="home" rel="home">
                    <img alt="logo" src="{{ site.icon }}" />
                </a>
            </div>
            <div>
                <button
                @click="isOpen = !isOpen"
                type="button"
                class="bg-transparent focus:bg-orange text-orange focus:text-gray-100 border-2 border-orange rounded-full py-2 px-6 inline-flex items-center transition duration-500 ease-in-out transform hover:scale-105 hover:shadow-outline">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 mr-1 mt-1">
                    <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
                    </svg>
                    <span>menu</span>
                </button>
            </div>
            <div class="flex flex-row space-x-2">
            <a href="https://www.google.com/maps/place/10564+5th+Ave+NE+%23203,+Seattle,+WA+98125/@47.706761,-122.322746,16z/data=!4m5!3m4!1s0x549011565ad2913d:0x6c9be49d7f0f372c!8m2!3d47.7067609!4d-122.3227461?hl=en" title="map">
                <button class="bg-orange rounded-full p-2 transition duration-500 ease-in-out transform hover:scale-105 hover:shadow-outline">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-100 w-6">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                    </svg>
                    <title>map</title>
                </button>
            </a>

            <a href="tel:+1-206-367-1345" title="call">
                <button class="bg-orange rounded-full p-2 transition duration-500 ease-in-out transform hover:scale-105 hover:shadow-outline">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-100 w-6">
                    <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                    </svg>
                    <title>phone</title>
                </button>
            </a>
            </div>
        </div>
        {# mobile expanded #}
        {% include 'header-expanded.twig' %}

        {# desktop #}
        <div class="hidden sm:flex flex-col w-11/12 mx-auto">
            {# secondary nav #}
	        <div class="flex justify-end">
              <div class="bg-gray-400 bg-opacity-25 items-center font-light md:text-sm xl:text-base rounded-b-lg space-x-8 px-6">
                <a href="/seattle-wa/" class="group hover:text-orange">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="text-orange w-8 h-8 inline-flex mt-1 transform group-hover:scale-105">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                    </svg>locations + hours
                </a>
                <a href="https://shop.northwestaudiology.com/" class="hover:text-orange group">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="text-orange w-8 h-8 inline-flex mt-1 transform group-hover:scale-105">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>store
                </a>
                <a href="tel:+1-206-367-1345" class="hover:text-orange group">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" class="text-orange w-8 h-8 inline-flex mt-1 transform group-hover:scale-105">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                    </svg>(206) 367-1345
                </a>
              </div>
            </div>

            {# primary nav #}
            <div class="flex pb-8 -mt-2 items-end justify-between">
                {# logo #}
                <div class="lg:w-1/5 xl:w-1/4">
                    <a href="{{ site.url|e('esc_url') }}" title="Home" rel="home">
                    <picture >
                        <source srcset="{{ custom_logo_url|towebp }}" type="image/webp">
                        <source srcset="{{ custom_logo_url|tojpg }}" type="image/jpeg">
                        <img alt="logo" class="transition duration-500 ease-in-out transform hover:scale-105" src="{{ custom_logo_url|resize(400, 300) }}" srcset="{{ custom_logo_url|resize(200, 150)|retina(1) }} 1x,
                            {{ custom_logo_url|resize(800, 600)|retina(2) }}  2x,
                            {{ custom_logo_url|resize(1600, 1200)|retina(3) }}  3x,
                            {{ custom_logo_url|resize(2400, 2400)|retina(4) }}  4x">
                    </picture>
                    </a>
                </div>
                {# menu #}
                <div class="flex bg-gray-300 text-gray-800 lg:text-base xl:font-light xl:text-lg justify-self-start mb-2 space-x-10 lowercase">
                    {% if items|default(menu_primary.items) %}
                        {% for item in items|default(menu_primary.items) %}
                            {% if item.children %}
                                <div x-data="{ hover: false }" class="relative">
                                    <a id="menu-item-{{ item.id }}" href="{{ item.link }}" class="hover:text-orange flex items-center" @mouseenter="{hover=true}" @mouseleave="{hover=false}">{{ item.name }}</a>
                                    <ul id="menu-item-list-{{ item.id }}" class="hidden absolute p-2 bg-white border-gray-400 border-.5 flex flex-col whitespace-no-wrap z-50" :class="{ 'block' : hover , 'hidden' : !hover }" x-show="hover" @mouseenter="{hover=true}" @mouseleave="{hover=false}">
                                        {% for child in item.children %}
                                            <li id="menu-item-child-{{ child.id }}" class="p-2">
                                                <a href="{{ child.link }}" class="hover:text-orange">{{ child.title }}</a>
                                            </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            {%  else %}
                                <a id="menu-item-{{ item.id }}" href="{{ item.link }}" class=" hover:text-orange">{{ item.name }}</a>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                </div>
                {# utility menu #}
                <div class="flex bg-gray-300 items-center text-xs xl:text-sm mb-2">
                    <a href="#"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 xl:w-8 text-gray-400 hover:text-orange mr-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg></a>
                    <a href="/schedule-online/"><button class="bg-transparent hover:bg-orange text-orange hover:text-gray-100 py-2 px-4 border border-orange hover:border-transparent rounded" type="button">schedule appointment</button></a>
                </div>
            </div>
        </div>
    </nav>
</header>
